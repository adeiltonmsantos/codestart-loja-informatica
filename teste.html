<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste para o emailjs</title>
</head>
<body>

    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script>
        // ATENÇÃO: Substitua pelos seus IDs e Chave!
        const SERVICE_ID = "service_xlmj3qu"; 
        const TEMPLATE_ID = "template_mohzmh6"; 
        const PUBLIC_KEY = "-j6Q3glibCsWMaqlL"; 

        // 1. Inicializa o EmailJS com sua chave pública
        (function() {
        emailjs.init({
            publicKey: PUBLIC_KEY,
        });
        })();

        // 2. Adiciona o listener de evento ao formulário
        window.onload = function() {

            // 3. Captura os dados do formulário e insere em um objeto
            const templateParams = {
                name: 'Nome do cliente',
                email: 'emaildocliente@emaildocliente.com',
                message: 'Mensagem do cliente'
            };

            // 4. Envia o e-mail usando emailjs.send()
            emailjs.send(SERVICE_ID, TEMPLATE_ID, templateParams)
                .then(function(response) {
                    console.log('SUCESSO!', response.status, response.text);
                    alert('Mensagem enviada com sucesso!');
                    form.reset(); // Limpa o formulário após o sucesso
                }, function(error) {
                    console.log('FALHA...', error);
                    alert('Ocorreu um erro ao enviar a mensagem. Tente novamente.');
                })
                .finally(function() {
                    // Habilita o botão de volta, independente do resultado
                    btn.textContent = 'Enviar';
                    btn.disabled = false;
                });

            }
    </script>
</body>
</html>